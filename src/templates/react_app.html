<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Intelligence System - React App</title>
    
    <!-- React 18 and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel Standalone for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        #root {
            min-height: 100vh;
        }
        
        /* Fallback loading styles */
        .loading-fallback {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: white;
            font-size: 1.2rem;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Error handling styles */
        .error-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            padding: 20px;
        }
        
        .error-message {
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .error-title {
            color: #e53e3e;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        
        .error-description {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .retry-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
        }
        
        .retry-button:hover {
            transform: translateY(-2px);
            transition: transform 0.2s;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading-fallback">
            <div class="loading-spinner"></div>
            –ó–∞–≥—Ä—É–∑–∫–∞ Email Intelligence System...
        </div>
    </div>

    <!-- Error Boundary Component -->
    <script type="text/babel">
        class ErrorBoundary extends React.Component {
            constructor(props) {
                super(props);
                this.state = { hasError: false, error: null, errorInfo: null };
            }

            static getDerivedStateFromError(error) {
                return { hasError: true };
            }

            componentDidCatch(error, errorInfo) {
                this.setState({
                    error: error,
                    errorInfo: errorInfo
                });
                
                // Log error to console for debugging
                console.error('React Error Boundary caught an error:', error, errorInfo);
            }

            render() {
                if (this.state.hasError) {
                    return (
                        <div className="error-container">
                            <div className="error-message">
                                <div className="error-title">‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</div>
                                <div className="error-description">
                                    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω—É–ª–æ—Å—å —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–π –æ—à–∏–±–∫–æ–π. 
                                    –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
                                </div>
                                <div className="error-description">
                                    <strong>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br />
                                    {this.state.error && this.state.error.toString()}
                                </div>
                                <button 
                                    className="retry-button"
                                    onClick={() => window.location.reload()}
                                >
                                    üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
                                </button>
                            </div>
                        </div>
                    );
                }

                return this.props.children;
            }
        }
    </script>

    <!-- Main React Application -->
    <script type="text/babel">
        // Import the main component code
        const { useState, useEffect, useCallback } = React;
        const { createRoot } = ReactDOM;

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
        const TabNavigator = ({ activeTab, setActiveTab, tabs }) => {
            return (
                <div className="tabs-container">
                    <div className="tabs-header">
                        {tabs.map(tab => (
                            <button
                                key={tab.id}
                                className={`tab-btn ${activeTab === tab.id ? 'active' : ''}`}
                                onClick={() => setActiveTab(tab.id)}
                            >
                                {tab.icon} {tab.title}
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        const BasicInfo = ({ data }) => {
            const basicInfo = data?.basic_info || {};
            const professionalInfo = data?.professional_info || {};
            const scientificIds = data?.scientific_identifiers || {};
            const searchMetadata = data?.search_metadata || {};
            const informationSources = data?.information_sources || [];

            const getStatusText = (status) => {
                const statusMap = {
                    'identified': '‚úÖ –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω',
                    'partial_info': '‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
                    'not_found': '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω',
                    'limited_search': 'üîç –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫',
                    'educational_domain': 'üéì –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ–º–µ–Ω',
                    'government_domain': 'üèõÔ∏è –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω'
                };
                return statusMap[status] || status || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
            };

            const getSearchMethodText = (method) => {
                const methodMap = {
                    'real_api': 'üîó API –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º',
                    'alternative': 'üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫',
                    'fallback': '‚ö° –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ä–µ–∂–∏–º',
                    'cache': 'üíæ –ö—ç—à',
                    'demo': 'üé≠ –î–µ–º–æ —Ä–µ–∂–∏–º'
                };
                return methodMap[method] || method || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
            };

            return (
                <div className="basic-info-grid">
                    <div className="info-card">
                        <h3>üë§ –í–ª–∞–¥–µ–ª–µ—Ü Email</h3>
                        <div className="info-content">
                            <div className="info-item">
                                <strong>–ò–º—è:</strong> {basicInfo.owner_name || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ'}
                            </div>
                            <div className="info-item">
                                <strong>–ê–Ω–≥–ª–∏–π—Å–∫–æ–µ –∏–º—è:</strong> {basicInfo.owner_name_en || 'Not determined'}
                            </div>
                            <div className="info-item">
                                <strong>–°—Ç–∞—Ç—É—Å:</strong> {getStatusText(basicInfo.status)}
                            </div>
                            {basicInfo.confidence_score && (
                                <div className="info-item">
                                    <strong>–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å:</strong> {Math.round(basicInfo.confidence_score * 100)}%
                                </div>
                            )}
                        </div>
                    </div>

                    <div className="info-card">
                        <h3>üíº –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                        <div className="info-content">
                            <div className="info-item">
                                <strong>–î–æ–ª–∂–Ω–æ—Å—Ç—å:</strong> {professionalInfo.position || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ'}
                            </div>
                            <div className="info-item">
                                <strong>–ú–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã:</strong> {professionalInfo.workplace || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ'}
                            </div>
                            <div className="info-item">
                                <strong>–ê–¥—Ä–µ—Å:</strong> {professionalInfo.address || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ'}
                            </div>
                            <div className="info-item">
                                <strong>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:</strong> {professionalInfo.specialization || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ'}
                            </div>
                            {professionalInfo.degrees && (
                                <div className="info-item">
                                    <strong>–°—Ç–µ–ø–µ–Ω–∏:</strong> {professionalInfo.degrees.join(', ')}
                                </div>
                            )}
                        </div>
                    </div>

                    <div className="info-card">
                        <h3>üî¨ –ù–∞—É—á–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã</h3>
                        <div className="info-content">
                            <div className="info-item">
                                <strong>ORCID ID:</strong> {scientificIds.orcid_id || '–ù–µ –Ω–∞–π–¥–µ–Ω'}
                            </div>
                            <div className="info-item">
                                <strong>SPIN –∫–æ–¥:</strong> {scientificIds.spin_code || '–ù–µ –Ω–∞–π–¥–µ–Ω'}
                            </div>
                            <div className="info-item">
                                <strong>Email –¥–ª—è –∫–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ü–∏–∏:</strong> {scientificIds.email_for_correspondence || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω'}
                            </div>
                            {scientificIds.alternative_emails && (
                                <div className="info-item">
                                    <strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ email:</strong> {scientificIds.alternative_emails.join(', ')}
                                </div>
                            )}
                        </div>
                    </div>

                    <div className="info-card">
                        <h3>üìä –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ–∏—Å–∫–∞</h3>
                        <div className="info-content">
                            <div className="info-item">
                                <strong>–ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:</strong> {searchMetadata.results_count || 0}
                            </div>
                            <div className="info-item">
                                <strong>–ú–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞:</strong> {getSearchMethodText(searchMetadata.search_method)}
                            </div>
                            <div className="info-item">
                                <strong>–°—Ç–∞—Ç—É—Å:</strong> {searchMetadata.status || 'unknown'}
                            </div>
                            <div className="info-item">
                                <strong>–ò—Å—Ç–æ—á–Ω–∏–∫–∏:</strong> {informationSources.length || 0} –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü
        const WebpageAnalysis = ({ data }) => {
            const webpageAnalysis = data?.webpage_analysis;

            if (!webpageAnalysis) {
                return (
                    <div className="error-message">
                        <h3>–ê–Ω–∞–ª–∏–∑ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</h3>
                        <p>–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:</p>
                        <ul>
                            <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</li>
                            <li>–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü –æ—Ç–∫–ª—é—á–µ–Ω</li>
                            <li>–ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</li>
                        </ul>
                    </div>
                );
            }

            const ownerData = webpageAnalysis.owner_identification || {};
            const professionalData = webpageAnalysis.professional_details || {};
            const contactData = webpageAnalysis.contact_information || {};
            const academicData = webpageAnalysis.academic_info || {};
            const metaData = webpageAnalysis.analysis_metadata || {};

            return (
                <div className="webpage-analysis">
                    <div className="analysis-header">
                        <h2>üîç –ê–Ω–∞–ª–∏–∑ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü</h2>
                        <div className="confidence-score">
                            –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {Math.round((ownerData.confidence_score || 0) * 100)}%
                        </div>
                    </div>

                    <div className="analysis-grid">
                        <div className="analysis-section">
                            <h3><span className="section-icon">üë§</span>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞</h3>
                            <div className="extracted-data">
                                <div className="data-item-label">–ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–µ –∏–º—è:</div>
                                <div className="data-item-value">{ownerData.most_likely_name || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ'}</div>
                                
                                <div className="data-item-label">–ù–∞–π–¥–µ–Ω–æ –∏–º–µ–Ω:</div>
                                <div className="data-item-value">{ownerData.names_found?.length || 0}</div>
                                
                                {ownerData.name_variations?.length > 0 && (
                                    <>
                                        <div className="data-item-label">–í–∞—Ä–∏–∞—Ü–∏–∏ –∏–º–µ–Ω:</div>
                                        <div className="tags-container">
                                            {ownerData.name_variations.map((name, idx) => (
                                                <span key={idx} className="tag">{name}</span>
                                            ))}
                                        </div>
                                    </>
                                )}
                            </div>
                        </div>

                        <div className="analysis-section">
                            <h3><span className="section-icon">üíº</span>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                            <div className="extracted-data">
                                {professionalData.positions?.length > 0 ? (
                                    <>
                                        <div className="data-item-label">–î–æ–ª–∂–Ω–æ—Å—Ç–∏:</div>
                                        <div className="tags-container">
                                            {professionalData.positions.map((pos, idx) => (
                                                <span key={idx} className="tag">{pos}</span>
                                            ))}
                                        </div>
                                    </>
                                ) : (
                                    <div>–î–æ–ª–∂–Ω–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>
                                )}
                                
                                {professionalData.organizations?.length > 0 && (
                                    <>
                                        <div className="data-item-label">–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:</div>
                                        <div className="tags-container">
                                            {professionalData.organizations.map((org, idx) => (
                                                <span key={idx} className="tag">{org}</span>
                                            ))}
                                        </div>
                                    </>
                                )}
                                
                                {professionalData.locations?.length > 0 && (
                                    <>
                                        <div className="data-item-label">–õ–æ–∫–∞—Ü–∏–∏:</div>
                                        <div className="tags-container">
                                            {professionalData.locations.map((loc, idx) => (
                                                <span key={idx} className="tag">{loc}</span>
                                            ))}
                                        </div>
                                    </>
                                )}
                            </div>
                        </div>

                        <div className="analysis-section">
                            <h3><span className="section-icon">üìû</span>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <div className="extracted-data">
                                {contactData.emails?.length > 0 ? (
                                    <>
                                        <div className="data-item-label">Email –∞–¥—Ä–µ—Å–∞:</div>
                                        <div className="tags-container">
                                            {contactData.emails.map((email, idx) => (
                                                <span key={idx} className="tag">{email}</span>
                                            ))}
                                        </div>
                                    </>
                                ) : (
                                    <div>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ email –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>
                                )}
                                
                                {contactData.phones?.length > 0 && (
                                    <>
                                        <div className="data-item-label">–¢–µ–ª–µ—Ñ–æ–Ω—ã:</div>
                                        <div className="tags-container">
                                            {contactData.phones.map((phone, idx) => (
                                                <span key={idx} className="tag">{phone}</span>
                                            ))}
                                        </div>
                                    </>
                                )}
                            </div>
                        </div>

                        <div className="analysis-section">
                            <h3><span className="section-icon">üéì</span>–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <div className="extracted-data">
                                {academicData.degrees?.length > 0 ? (
                                    <>
                                        <div className="data-item-label">–£—á–µ–Ω—ã–µ —Å—Ç–µ–ø–µ–Ω–∏:</div>
                                        <div className="tags-container">
                                            {academicData.degrees.map((degree, idx) => (
                                                <span key={idx} className="tag">{degree}</span>
                                            ))}
                                        </div>
                                    </>
                                ) : (
                                    <div>–£—á–µ–Ω—ã–µ —Å—Ç–µ–ø–µ–Ω–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>
                                )}
                                
                                {academicData.research_areas?.length > 0 && (
                                    <>
                                        <div className="data-item-label">–û–±–ª–∞—Å—Ç–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π:</div>
                                        <div className="tags-container">
                                            {academicData.research_areas.slice(0, 5).map((area, idx) => (
                                                <span key={idx} className="tag">{area}</span>
                                            ))}
                                        </div>
                                    </>
                                )}
                            </div>
                        </div>
                    </div>

                    <div className="url-analysis">
                        <h3>üåê –ê–Ω–∞–ª–∏–∑ URL –∞–¥—Ä–µ—Å–æ–≤</h3>
                        <p style={{ marginBottom: '15px', color: '#666' }}>
                            –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: <strong>{metaData.successful_extractions || 0}</strong> –∏–∑ <strong>{metaData.analyzed_urls?.length || 0}</strong> —Å—Ç—Ä–∞–Ω–∏—Ü
                        </p>
                        
                        {metaData.analyzed_urls?.length > 0 ? (
                            metaData.analyzed_urls.map((urlData, idx) => (
                                <div key={idx} className={`url-item ${urlData.status === 'success' ? 'success' : 'failed'}`}>
                                    <a href={urlData.url} target="_blank" rel="noopener noreferrer" className="url">
                                        {urlData.url}
                                    </a>
                                    <span className={`status ${urlData.status}`}>
                                        {urlData.status === 'success' ? '‚úÖ –£—Å–ø–µ—à–Ω–æ' : '‚ùå –ù–µ—É–¥–∞—á–Ω–æ'}
                                    </span>
                                    {urlData.extracted_data_types && (
                                        <div style={{ marginTop: '8px' }}>
                                            <small><strong>–ò–∑–≤–ª–µ—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:</strong> {urlData.extracted_data_types.join(', ')}</small>
                                        </div>
                                    )}
                                    {urlData.reason && (
                                        <div style={{ marginTop: '8px' }}>
                                            <small><strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> {urlData.reason}</small>
                                        </div>
                                    )}
                                </div>
                            ))
                        ) : (
                            <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–Ω–∞–ª–∏–∑–µ URL</p>
                        )}
                    </div>
                </div>
            );
        };

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π
        const Publications = ({ data }) => {
            const publications = data?.publications || [];

            if (publications.length === 0) {
                return (
                    <div className="error-message">
                        –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –∏–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –∏—Ö –∏–∑–≤–ª–µ—á—å –∏–∑ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
                    </div>
                );
            }

            return (
                <div className="publications-container">
                    <h3>üìö –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ ({publications.length})</h3>
                    {publications.map((pub, idx) => (
                        <div key={idx} className="publication-item">
                            <div className="publication-title">{pub.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</div>
                            <div className="publication-details">
                                <div className="publication-info">
                                    <strong>–ê–≤—Ç–æ—Ä—ã:</strong> {pub.authors || '–ù–µ —É–∫–∞–∑–∞–Ω—ã'}
                                </div>
                                <div className="publication-info">
                                    <strong>–ñ—É—Ä–Ω–∞–ª:</strong> {pub.journal || '–ù–µ —É–∫–∞–∑–∞–Ω'}
                                </div>
                                <div className="publication-info">
                                    <strong>–ì–æ–¥:</strong> {pub.year || '–ù–µ —É–∫–∞–∑–∞–Ω'}
                                </div>
                                <div className="publication-info">
                                    <strong>DOI:</strong> {pub.doi || '–ù–µ –Ω–∞–π–¥–µ–Ω'}
                                </div>
                                {pub.url && (
                                    <div className="publication-info">
                                        <strong>URL:</strong> <a href={pub.url} target="_blank" rel="noopener noreferrer">{pub.url}</a>
                                    </div>
                                )}
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª—ã
        const Timeline = ({ data }) => {
            const publications = data?.publications || [];
            const searchMetadata = data?.search_metadata || {};
            
            let timelineEvents = [];
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ timeline
            publications.forEach(pub => {
                if (pub.year) {
                    timelineEvents.push({
                        year: parseInt(pub.year),
                        type: 'publication',
                        title: pub.title || '–ü—É–±–ª–∏–∫–∞—Ü–∏—è –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
                        description: `–ñ—É—Ä–Ω–∞–ª: ${pub.journal || '–ù–µ —É–∫–∞–∑–∞–Ω'}`,
                        authors: pub.authors || '–ê–≤—Ç–æ—Ä—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã'
                    });
                }
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –ø–æ–∏—Å–∫
            if (searchMetadata.timestamp) {
                timelineEvents.push({
                    year: new Date(searchMetadata.timestamp * 1000).getFullYear(),
                    type: 'search',
                    title: '–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö',
                    description: `–ù–∞–π–¥–µ–Ω–æ ${searchMetadata.results_count || 0} —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤`
                });
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –≥–æ–¥–∞–º
            timelineEvents.sort((a, b) => b.year - a.year);
            
            if (timelineEvents.length === 0) {
                return (
                    <div className="error-message">
                        –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª—ã.
                        –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ö –∏–ª–∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
                    </div>
                );
            }

            return (
                <div className="timeline-container">
                    <h3>‚è∞ –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h3>
                    <div className="timeline-events">
                        {timelineEvents.map((event, idx) => (
                            <div key={idx} className={`timeline-item ${event.type}`}>
                                <div className="timeline-content">
                                    <div className="timeline-info">
                                        <h4>
                                            {event.type === 'publication' ? 'üìö' : 'üîç'} {event.title}
                                        </h4>
                                        <p className="timeline-description">{event.description}</p>
                                        {event.authors && (
                                            <p className="timeline-authors">–ê–≤—Ç–æ—Ä—ã: {event.authors}</p>
                                        )}
                                    </div>
                                    <div className="timeline-year">
                                        {event.year}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å–µ—Ç–µ–π –∏ —Å–≤—è–∑–µ–π
        const Networks = ({ data }) => {
            const contactInfo = data?.webpage_analysis?.contact_information || {};
            const professionalInfo = data?.professional_info || {};
            const scientificIds = data?.scientific_identifiers || {};
            
            let networks = [];
            
            // Email —Å–µ—Ç–∏
            if (contactInfo.emails && contactInfo.emails.length > 0) {
                networks.push({
                    type: 'email',
                    title: 'Email –∞–¥—Ä–µ—Å–∞',
                    items: contactInfo.emails,
                    icon: 'üìß'
                });
            }
            
            // –ù–∞—É—á–Ω—ã–µ —Å–µ—Ç–∏
            if (scientificIds.orcid_id && scientificIds.orcid_id !== '–ù–µ –Ω–∞–π–¥–µ–Ω') {
                networks.push({
                    type: 'scientific',
                    title: 'ORCID',
                    items: [scientificIds.orcid_id],
                    icon: 'üî¨',
                    links: [`https://orcid.org/${scientificIds.orcid_id}`]
                });
            }
            
            // –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–≤—è–∑–∏
            if (professionalInfo.workplace && professionalInfo.workplace !== '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ') {
                networks.push({
                    type: 'organization',
                    title: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è',
                    items: [professionalInfo.workplace],
                    icon: 'üè¢'
                });
            }
            
            // –°–∞–π—Ç—ã –∏ –ø—Ä–æ—Ñ–∏–ª–∏
            if (contactInfo.websites && contactInfo.websites.length > 0) {
                networks.push({
                    type: 'web',
                    title: '–í–µ–±-–ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ',
                    items: contactInfo.websites,
                    icon: 'üåê',
                    links: contactInfo.websites
                });
            }
            
            if (networks.length === 0) {
                return (
                    <div className="error-message">
                        –°–µ—Ç–µ–≤—ã–µ —Å–≤—è–∑–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã. 
                        –î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∫–∞—Ä—Ç—ã —Å–≤—è–∑–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω—Ç–∞–∫—Ç–∞—Ö –∏ –ø—Ä–æ—Ñ–∏–ª—è—Ö.
                    </div>
                );
            }

            return (
                <div className="networks-container">
                    <h3>üåê –°–µ—Ç–∏ –∏ —Å–≤—è–∑–∏</h3>
                    <div className="networks-grid">
                        {networks.map((network, idx) => (
                            <div key={idx} className="network-item">
                                <h4>
                                    <span className="network-icon">{network.icon}</span>
                                    {network.title}
                                </h4>
                                <div className="network-items">
                                    {network.items.map((item, itemIdx) => {
                                        const link = network.links && network.links[itemIdx];
                                        return (
                                            <div key={itemIdx} className="network-item-value">
                                                {link ? (
                                                    <a href={link} target="_blank" rel="noopener noreferrer">
                                                        {item}
                                                    </a>
                                                ) : (
                                                    <span>{item}</span>
                                                )}
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        ))}
                    </div>
                    
                    {networks.length > 1 && (
                        <div className="networks-analysis">
                            <h4>üìä –ê–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π</h4>
                            <p>
                                –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ <strong>{networks.length}</strong> —Ç–∏–ø–æ–≤ —Å–µ—Ç–µ–≤—ã—Ö —Å–≤—è–∑–µ–π. 
                                –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ {networks.length >= 3 ? '–≤—ã—Å–æ–∫—É—é' : networks.length >= 2 ? '—Å—Ä–µ–¥–Ω—é—é' : '–Ω–∏–∑–∫—É—é'} 
                                —Å—Ç–µ–ø–µ–Ω—å —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è.
                            </p>
                        </div>
                    )}
                </div>
            );
        };

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ã–≤–æ–¥–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
        const Conclusions = ({ data }) => {
            const conclusions = data?.conclusions || [];
            const researchInterests = data?.research_interests || [];
            const searchMetadata = data?.search_metadata || {};
            const informationSources = data?.information_sources || [];

            const getSearchMethodText = (method) => {
                const methodMap = {
                    'real_api': 'üîó API –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º',
                    'alternative': 'üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫',
                    'fallback': '‚ö° –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ä–µ–∂–∏–º',
                    'cache': 'üíæ –ö—ç—à',
                    'demo': 'üé≠ –î–µ–º–æ —Ä–µ–∂–∏–º'
                };
                return methodMap[method] || method || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
            };

            return (
                <div className="conclusions-container">
                    {conclusions.length > 0 && (
                        <div className="conclusions-section">
                            <h3>üí° –û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã</h3>
                            {conclusions.map((conclusion, idx) => (
                                <div key={idx} className="conclusion-item">‚Ä¢ {conclusion}</div>
                            ))}
                        </div>
                    )}

                    {researchInterests.length > 0 && (
                        <div className="research-interests-section">
                            <h3>üî¨ –û–±–ª–∞—Å—Ç–∏ –Ω–∞—É—á–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤</h3>
                            <div className="tags-container">
                                {researchInterests.map((interest, idx) => (
                                    <span key={idx} className="tag">{interest}</span>
                                ))}
                            </div>
                        </div>
                    )}
                    
                    <div className="analytics-section">
                        <h3>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–∏—Å–∫–∞</h3>
                        <div className="analytics-grid">
                            <div className="analytics-item">
                                <div className="analytics-label">–†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞–π–¥–µ–Ω–æ:</div>
                                <div className="analytics-value primary">{searchMetadata.results_count || 0}</div>
                            </div>
                            <div className="analytics-item">
                                <div className="analytics-label">–ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö:</div>
                                <div className="analytics-value secondary">{informationSources.length || 0}</div>
                            </div>
                            <div className="analytics-item">
                                <div className="analytics-label">–ú–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞:</div>
                                <div className="analytics-value">{getSearchMethodText(searchMetadata.search_method)}</div>
                            </div>
                            <div className="analytics-item">
                                <div className="analytics-label">–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞:</div>
                                <div className="analytics-value">
                                    {searchMetadata.timestamp ? 
                                        new Date(searchMetadata.timestamp * 1000).toLocaleString('ru-RU') : 
                                        '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {informationSources.length > 0 && (
                        <div className="sources-section">
                            <h4>üìã –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</h4>
                            <div className="tags-container">
                                {informationSources.map((source, idx) => (
                                    <span key={idx} className="tag source-tag">{source}</span>
                                ))}
                            </div>
                        </div>
                    )}

                    {conclusions.length === 0 && researchInterests.length === 0 && (
                        <div className="error-message">
                            –í—ã–≤–æ–¥—ã –∏ –Ω–∞—É—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã.
                        </div>
                    )}
                </div>
            );
        };

        // –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const EnhancedEmailSearchApp = () => {
            const [email, setEmail] = useState('');
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');
            const [data, setData] = useState(null);
            const [activeTab, setActiveTab] = useState('basic');
            const [searchMethod, setSearchMethod] = useState('auto');

            const tabs = [
                { id: 'basic', title: '–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è', icon: 'üìã' },
                { id: 'webpage', title: '–ê–Ω–∞–ª–∏–∑ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü', icon: 'üîç' },
                { id: 'publications', title: '–ü—É–±–ª–∏–∫–∞—Ü–∏–∏', icon: 'üìö' },
                { id: 'timeline', title: '–í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞', icon: '‚è∞' },
                { id: 'networks', title: '–°–µ—Ç–∏ –∏ —Å–≤—è–∑–∏', icon: 'üåê' },
                { id: 'conclusions', title: '–í—ã–≤–æ–¥—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞', icon: 'üí°' }
            ];

            const searchEmail = useCallback(async () => {
                if (!email.trim()) {
                    setError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ email –∞–¥—Ä–µ—Å');
                    return;
                }

                setLoading(true);
                setError('');
                setData(null);

                try {
                    const response = await fetch('/api/email/search', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ 
                            email: email.trim(),
                            search_method: searchMethod
                        })
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    setData(result);
                    setActiveTab('basic');

                } catch (err) {
                    console.error('–û—à–∏–±–∫–∞:', err);
                    setError('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–æ–∏—Å–∫–∞: ' + err.message);
                } finally {
                    setLoading(false);
                }
            }, [email, searchMethod]);

            const loadDemo = useCallback(async () => {
                setLoading(true);
                setError('');

                try {
                    const response = await fetch('/api/email/demo');
                    const result = await response.json();
                    
                    if (response.ok) {
                        setData(result);
                        setEmail(result.email);
                        setActiveTab('basic');
                    } else {
                        setError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ–º–æ –¥–∞–Ω–Ω—ã—Ö');
                    }
                } catch (err) {
                    setError('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º');
                } finally {
                    setLoading(false);
                }
            }, []);

            const renderTabContent = () => {
                if (!data) return null;

                switch (activeTab) {
                    case 'basic':
                        return <BasicInfo data={data} />;
                    case 'webpage':
                        return <WebpageAnalysis data={data} />;
                    case 'publications':
                        return <Publications data={data} />;
                    case 'timeline':
                        return <Timeline data={data} />;
                    case 'networks':
                        return <Networks data={data} />;
                    case 'conclusions':
                        return <Conclusions data={data} />;
                    default:
                        return <BasicInfo data={data} />;
                }
            };

            return (
                <div className="enhanced-app">
                    <div className="header">
                        <h1>üìß Email Intelligence System</h1>
                        <p>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ email –∞–¥—Ä–µ—Å–æ–≤ —Å –∏–∑—É—á–µ–Ω–∏–µ–º –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü</p>
                    </div>

                    <div className="search-section">
                        <div className="search-form">
                            <input
                                type="email"
                                value={email}
                                onChange={(e) => setEmail(e.target.value)}
                                placeholder="–í–≤–µ–¥–∏—Ç–µ email –∞–¥—Ä–µ—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞..."
                                className="search-input"
                                onKeyPress={(e) => e.key === 'Enter' && searchEmail()}
                            />
                            <button 
                                onClick={searchEmail} 
                                disabled={loading}
                                className="search-btn"
                            >
                                {loading ? '‚è≥ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...' : 'üîç –ê–Ω–∞–ª–∏–∑'}
                            </button>
                            <button 
                                onClick={loadDemo} 
                                disabled={loading}
                                className="search-btn demo-btn"
                            >
                                üé≠ –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ–º–æ
                            </button>
                        </div>

                        <div className="search-options">
                            <h3>üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞</h3>
                            <div className="search-method-options">
                                <label>
                                    <input
                                        type="radio"
                                        value="auto"
                                        checked={searchMethod === 'auto'}
                                        onChange={(e) => setSearchMethod(e.target.value)}
                                    />
                                    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä
                                </label>
                                <label>
                                    <input
                                        type="radio"
                                        value="google_api"
                                        checked={searchMethod === 'google_api'}
                                        onChange={(e) => setSearchMethod(e.target.value)}
                                    />
                                    Google Search API
                                </label>
                                <label>
                                    <input
                                        type="radio"
                                        value="browser_search"
                                        checked={searchMethod === 'browser_search'}
                                        onChange={(e) => setSearchMethod(e.target.value)}
                                    />
                                    –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
                                </label>
                            </div>
                        </div>

                        {error && (
                            <div className="error-message">
                                {error}
                            </div>
                        )}
                    </div>

                    {(data || loading) && (
                        <div className="results-section">
                            <TabNavigator 
                                activeTab={activeTab}
                                setActiveTab={setActiveTab}
                                tabs={tabs}
                            />
                            
                            <div className="tab-content">
                                {loading ? (
                                    <div className="loading">
                                        –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø–æ–¥–æ–∂–¥–∏—Ç–µ...
                                    </div>
                                ) : (
                                    renderTabContent()
                                )}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Main App with Error Boundary
        const App = () => (
            <ErrorBoundary>
                <EnhancedEmailSearchApp />
            </ErrorBoundary>
        );

        // Initialize the application
        try {
            const root = createRoot(document.getElementById('root'));
            root.render(<App />);
        } catch (error) {
            console.error('Failed to initialize React app:', error);
            
            // Fallback error display
            document.getElementById('root').innerHTML = `
                <div class="error-container">
                    <div class="error-message">
                        <div class="error-title">‚ö†Ô∏è –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</div>
                        <div class="error-description">
                            –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.
                        </div>
                        <button class="retry-button" onclick="window.location.reload()">
                            üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
                        </button>
                    </div>
                </div>
            `;
        }
    </script>

    <!-- Include the CSS styles -->
    <script>
        // Enhanced CSS styles for the React application
        const styles = `
            .enhanced-app {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            }

            .header {
                text-align: center;
                color: white;
                margin-bottom: 30px;
            }

            .header h1 {
                font-size: 2.5rem;
                margin-bottom: 10px;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            }

            .header p {
                font-size: 1.1rem;
                opacity: 0.9;
            }

            .search-section {
                background: white;
                border-radius: 15px;
                padding: 30px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                margin-bottom: 30px;
            }

            .search-form {
                display: flex;
                gap: 15px;
                margin-bottom: 20px;
                flex-wrap: wrap;
            }

            .search-input {
                flex: 1;
                padding: 15px;
                border: 2px solid #e1e5e9;
                border-radius: 10px;
                font-size: 16px;
                min-width: 250px;
            }

            .search-input:focus {
                outline: none;
                border-color: #667eea;
            }

            .search-btn {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                padding: 15px 30px;
                border-radius: 10px;
                font-size: 16px;
                font-weight: 600;
                cursor: pointer;
                transition: transform 0.2s;
            }

            .search-btn:hover {
                transform: translateY(-2px);
            }

            .search-btn:disabled {
                opacity: 0.6;
                cursor: not-allowed;
                transform: none;
            }

            .demo-btn {
                background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            }

            .search-options {
                margin: 20px 0;
                padding: 20px;
                background: #f8f9fa;
                border-radius: 10px;
                border: 1px solid #e1e5e9;
            }

            .search-options h3 {
                margin-bottom: 15px;
                color: #333;
                font-size: 1.1rem;
            }

            .search-method-options {
                display: flex;
                gap: 20px;
                flex-wrap: wrap;
            }

            .search-method-options label {
                display: flex;
                align-items: center;
                gap: 8px;
                cursor: pointer;
                font-size: 14px;
                color: #555;
                font-weight: 500;
            }

            .tabs-container {
                background: white;
                border-radius: 15px 15px 0 0;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            }

            .tabs-header {
                display: flex;
                overflow-x: auto;
            }

            .tab-btn {
                flex: 1;
                padding: 15px 20px;
                background: #f8f9fa;
                border: none;
                cursor: pointer;
                font-size: 14px;
                font-weight: 600;
                transition: all 0.3s;
                border-bottom: 3px solid transparent;
                white-space: nowrap;
            }

            .tab-btn.active {
                background: white;
                border-bottom-color: #667eea;
                color: #667eea;
            }

            .tab-content {
                background: white;
                border-radius: 0 0 15px 15px;
                padding: 30px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            }

            .basic-info-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 20px;
            }

            .info-card {
                background: #f8f9fa;
                padding: 20px;
                border-radius: 10px;
                border-left: 4px solid #667eea;
            }

            .info-card h3 {
                color: #333;
                margin-bottom: 15px;
                font-size: 1.1rem;
            }

            .info-content {
                space-y: 10px;
            }

            .info-item {
                margin-bottom: 10px;
                color: #666;
                line-height: 1.5;
            }

            .analysis-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border-radius: 10px;
            }

            .confidence-score {
                background: rgba(255,255,255,0.2);
                padding: 8px 16px;
                border-radius: 20px;
                font-weight: 600;
            }

            .analysis-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin-bottom: 20px;
            }

            .analysis-section {
                background: #f8f9fa;
                padding: 20px;
                border-radius: 10px;
                border: 1px solid #e1e5e9;
            }

            .analysis-section h3 {
                color: #333;
                margin-bottom: 15px;
                font-size: 1.2rem;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .section-icon {
                width: 24px;
                height: 24px;
                background: #667eea;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 12px;
            }

            .extracted-data {
                background: white;
                padding: 15px;
                border-radius: 8px;
            }

            .data-item-label {
                font-weight: 600;
                color: #333;
                margin-bottom: 5px;
            }

            .data-item-value {
                color: #666;
                margin-bottom: 10px;
            }

            .tags-container {
                display: flex;
                flex-wrap: wrap;
                gap: 8px;
                margin-top: 10px;
            }

            .tag {
                padding: 6px 12px;
                background: #e3f2fd;
                border-radius: 20px;
                font-size: 14px;
                color: #1976d2;
                display: inline-block;
            }

            .source-tag {
                background: #e8f5e8;
                color: #2e7d2e;
            }

            .url-analysis {
                margin-top: 20px;
            }

            .url-item {
                background: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 10px;
                border-left: 4px solid #4caf50;
            }

            .url-item.failed {
                border-left-color: #f44336;
            }

            .url-item .url {
                font-weight: 600;
                color: #1976d2;
                text-decoration: none;
                display: block;
                margin-bottom: 5px;
            }

            .status {
                font-size: 12px;
                padding: 4px 8px;
                border-radius: 12px;
                display: inline-block;
            }

            .status.success {
                background: #e8f5e8;
                color: #2e7d2e;
            }

            .status.failed {
                background: #ffebee;
                color: #c62828;
            }

            .publications-container h3 {
                margin-bottom: 20px;
                color: #333;
            }

            .publication-item {
                background: #f8f9fa;
                padding: 20px;
                border-radius: 10px;
                margin-bottom: 15px;
                border-left: 4px solid #667eea;
            }

            .publication-title {
                font-weight: 600;
                color: #333;
                margin-bottom: 10px;
                font-size: 1.1rem;
            }

            .publication-info {
                color: #666;
                font-size: 14px;
                line-height: 1.5;
                margin-bottom: 5px;
            }

            .timeline-container h3 {
                margin-bottom: 20px;
                color: #333;
            }

            .timeline-events {
                space-y: 15px;
            }

            .timeline-item {
                background: #f8f9fa;
                padding: 20px;
                border-radius: 10px;
                margin-bottom: 15px;
            }

            .timeline-item.publication {
                border-left: 4px solid #667eea;
            }

            .timeline-item.search {
                border-left: 4px solid #4caf50;
            }

            .timeline-content {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
            }

            .timeline-info {
                flex: 1;
            }

            .timeline-info h4 {
                margin: 0 0 8px 0;
                color: #333;
            }

            .timeline-description {
                margin: 0 0 5px 0;
                color: #666;
                font-size: 14px;
            }

            .timeline-authors {
                margin: 0;
                color: #888;
                font-size: 12px;
            }

            .timeline-year {
                background: #667eea;
                color: white;
                padding: 8px 12px;
                border-radius: 20px;
                font-weight: 600;
                font-size: 14px;
                min-width: 60px;
                text-align: center;
            }

            .timeline-item.search .timeline-year {
                background: #4caf50;
            }

            .networks-container h3 {
                margin-bottom: 20px;
                color: #333;
            }

            .networks-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin-bottom: 20px;
            }

            .network-item {
                background: #f8f9fa;
                padding: 20px;
                border-radius: 10px;
                border-left: 4px solid #667eea;
            }

            .network-item h4 {
                margin: 0 0 15px 0;
                color: #333;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .network-icon {
                font-size: 20px;
            }

            .network-item-value {
                background: white;
                padding: 10px 15px;
                border-radius: 8px;
                margin-bottom: 8px;
                border: 1px solid #e1e5e9;
            }

            .network-item-value a {
                color: #667eea;
                text-decoration: none;
                font-weight: 500;
            }

            .networks-analysis {
                margin-top: 30px;
                padding: 20px;
                background: #e3f2fd;
                border-radius: 10px;
                border-left: 4px solid #2196f3;
            }

            .networks-analysis h4 {
                margin: 0 0 10px 0;
                color: #1976d2;
            }

            .networks-analysis p {
                margin: 0;
                color: #1976d2;
                font-size: 14px;
            }

            .conclusions-container > div {
                margin-bottom: 30px;
            }

            .conclusions-section h3,
            .research-interests-section h3,
            .analytics-section h3 {
                margin-bottom: 15px;
                color: #333;
            }

            .conclusion-item {
                margin-bottom: 10px;
                padding: 10px 0;
                border-bottom: 1px solid #e1e5e9;
                color: #666;
            }

            .conclusion-item:last-child {
                border-bottom: none;
                margin-bottom: 0;
            }

            .analytics-section {
                background: #f0f8ff;
                padding: 20px;
                border-radius: 10px;
                border-left: 4px solid #667eea;
            }

            .analytics-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }

            .analytics-item {
                text-align: center;
            }

            .analytics-label {
                font-weight: 600;
                color: #333;
                margin-bottom: 8px;
            }

            .analytics-value {
                font-size: 14px;
                color: #666;
            }

            .analytics-value.primary {
                font-size: 24px;
                color: #667eea;
                font-weight: 600;
            }

            .analytics-value.secondary {
                font-size: 24px;
                color: #4caf50;
                font-weight: 600;
            }

            .sources-section h4 {
                margin-top: 25px;
                margin-bottom: 15px;
                color: #333;
            }

            .loading {
                text-align: center;
                padding: 40px;
                color: #666;
                position: relative;
            }

            .loading::after {
                content: '';
                display: inline-block;
                width: 30px;
                height: 30px;
                border: 3px solid #f3f3f3;
                border-top: 3px solid #667eea;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin-left: 10px;
            }

            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }

            .error-message {
                background: #ffebee;
                color: #c62828;
                padding: 15px;
                border-radius: 10px;
                margin: 20px 0;
                border-left: 4px solid #f44336;
            }

            @media (max-width: 768px) {
                .enhanced-app {
                    padding: 10px;
                }

                .header h1 {
                    font-size: 2rem;
                }

                .search-form {
                    flex-direction: column;
                }

                .search-input {
                    min-width: auto;
                }

                .tabs-header {
                    flex-direction: column;
                }

                .basic-info-grid,
                .analysis-grid,
                .networks-grid {
                    grid-template-columns: 1fr;
                }

                .timeline-content {
                    flex-direction: column;
                    gap: 10px;
                }

                .timeline-year {
                    align-self: flex-start;
                }
            }
        `;

        // Apply styles to the document
        const styleSheet = document.createElement('style');
        styleSheet.textContent = styles;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>
